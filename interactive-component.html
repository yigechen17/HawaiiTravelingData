<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Interactive component | 06-interactive.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Interactive component | 06-interactive.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Interactive component | 06-interactive.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.1/parcoords.js"></script>
<script src="libs/d3-5.16.0/d3.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">HTD</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#interactive-component"><i class="fa fa-check"></i><b>1</b> Interactive component</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:title:end-->
<!--bookdown:title:start-->
<div id="interactive-component" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Interactive component<a href="#interactive-component" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<ol start="6" style="list-style-type: upper-roman">
<li>Interactive or animated component
Select one (or more) of your key findings to present in an interactive or animated format using the language of your choice. Be thoughtful about how you use interactivity and/or animation: using these features to add value in a way that would not be possible with a static graph. Note that we take the difficulty of the language into account to a large extent: we expect a lot more from a graph created with plotly compared to D3. If you choose D3, use version 7.</li>
</ol>
<p>Design with the goal of users walking away with a new understanding of the data and a clear understanding of the purpose of the visualization. If the tool is interactive, provide clear instructions on how the user should engage. Thoughtfulness and originality is more important than technical prowess; in all aspects of the project, think quality, not quantity.</p>
<p>Interactive graphs must follow all of the best practices as with static graphs in terms of perception, labeling, accuracy, etc.</p>
<p>Please see this chapter on sharing your D3 code online for options for sharing the interactive portion of your project.</p>
<p>Note: the interactive component is worth approximately 20% of the final project grade. Therefore, do not spend 90% of your time on it… concentrate on the exploratory data analysis piece.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># from chapter 2&amp;3</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>data1<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;1 visitor trend-不分state.csv&quot;</span>)[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">11</span>),]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>data2<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;2 visitor trend-分state.csv&quot;</span>)[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">301</span><span class="sc">:</span><span class="dv">305</span>),]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>data2<span class="fl">.10</span><span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;2.1 visitor trend- state plus dest.csv&quot;</span>)[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1051</span><span class="sc">:</span><span class="dv">1054</span>),]</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>data3<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;3 destination.csv&quot;</span>)[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">29</span><span class="sc">:</span><span class="dv">32</span>),]</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>data4<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;4 Q2主要数据.csv&quot;</span>)[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">217</span><span class="sc">:</span><span class="dv">221</span>),]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## Warning: 程辑包&#39;tidyverse&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --</code></pre>
<pre><code>## v ggplot2 3.3.5     v purrr   0.3.4
## v tibble  3.1.6     v dplyr   1.0.8
## v tidyr   1.2.0     v stringr 1.4.0
## v readr   2.1.2     v forcats 0.5.1</code></pre>
<pre><code>## Warning: 程辑包&#39;ggplot2&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## Warning: 程辑包&#39;tibble&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## Warning: 程辑包&#39;tidyr&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## Warning: 程辑包&#39;readr&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## Warning: 程辑包&#39;purrr&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## Warning: 程辑包&#39;dplyr&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## Warning: 程辑包&#39;stringr&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## Warning: 程辑包&#39;forcats&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>empty_as_na <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="st">&quot;factor&quot;</span> <span class="sc">%in%</span> <span class="fu">class</span>(x)) x <span class="ot">&lt;-</span> <span class="fu">as.character</span>(x) <span class="do">## since ifelse wont work with factors</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#ifelse(as.character(x)!=&quot;&quot;, x, NA)</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(x<span class="sc">!=</span><span class="st">&quot;&quot;</span>, x, <span class="cn">NA</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>data1<span class="ot">&lt;-</span> data1<span class="fl">.0</span> <span class="sc">%&gt;%</span> </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_each</span>(<span class="fu">funs</span>(empty_as_na)) <span class="sc">%&gt;%</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&quot;Market&quot;</span>, <span class="st">&quot;Indicator&quot;</span>, <span class="st">&quot;Units&quot;</span>, <span class="st">&quot;Destination&quot;</span>),</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;number&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">substr</span>(Year, <span class="dv">2</span>, <span class="dv">1000</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="st">&quot;number&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: `funs()` was deprecated in dplyr 0.8.0.
## Please use a list of either functions or lambdas: 
## 
##   # Simple named list: 
##   list(mean = mean, median = median)
## 
##   # Auto named with `tibble::lst()`: 
##   tibble::lst(mean, median)
## 
##   # Using lambdas
##   list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
<pre><code>## Warning: `mutate_each_()` was deprecated in dplyr 0.7.0.
## Please use `across()` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>data2<span class="ot">&lt;-</span> data2<span class="fl">.0</span> <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_each</span>(<span class="fu">funs</span>(empty_as_na)) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&quot;Market&quot;</span>, <span class="st">&quot;Indicator&quot;</span>, <span class="st">&quot;Units&quot;</span>, <span class="st">&quot;Destination&quot;</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;number&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">substr</span>(Year, <span class="dv">2</span>, <span class="dv">1000</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="st">&quot;number&quot;</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>data2<span class="fl">.1</span><span class="ot">&lt;-</span> data2<span class="fl">.10</span> <span class="sc">%&gt;%</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_each</span>(<span class="fu">funs</span>(empty_as_na)) <span class="sc">%&gt;%</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&quot;Market&quot;</span>, <span class="st">&quot;Indicator&quot;</span>, <span class="st">&quot;Units&quot;</span>, <span class="st">&quot;Destination&quot;</span>),</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;number&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">substr</span>(Year, <span class="dv">2</span>, <span class="dv">1000</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="st">&quot;number&quot;</span>)</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>data3<span class="ot">&lt;-</span> data3<span class="fl">.0</span> <span class="sc">%&gt;%</span> </span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_each</span>(<span class="fu">funs</span>(empty_as_na)) <span class="sc">%&gt;%</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&quot;Market&quot;</span>, <span class="st">&quot;Indicator&quot;</span>, <span class="st">&quot;Units&quot;</span>, <span class="st">&quot;Destination&quot;</span>),</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;number&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">substr</span>(Year, <span class="dv">2</span>, <span class="dv">1000</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="st">&quot;number&quot;</span>)</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>data4<span class="ot">&lt;-</span> data4<span class="fl">.0</span> <span class="sc">%&gt;%</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&quot;Group&quot;</span>, <span class="st">&quot;Indicator&quot;</span>, <span class="st">&quot;Units&quot;</span>),</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;number&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">substr</span>(Year, <span class="dv">2</span>, <span class="dv">1000</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="st">&quot;number&quot;</span>)</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>d1<span class="ot">&lt;-</span> <span class="fu">tibble</span>(data1[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">21</span>)][,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">3</span>)][,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">8</span>)])</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>d2<span class="ot">&lt;-</span> <span class="fu">tibble</span>(data2[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">21</span>)]) </span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>d2<span class="fl">.1</span><span class="ot">&lt;-</span> <span class="fu">tibble</span>(data2<span class="fl">.1</span>)[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">21</span>)][,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">8</span>)]</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>d4<span class="ot">&lt;-</span> <span class="fu">tibble</span>(data4<span class="fl">.0</span>[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">19</span>)][,<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">8</span>)])</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(parcoords)  </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(d3r)</span></code></pre></div>
<pre><code>## Warning: 程辑包&#39;d3r&#39;是用R版本4.1.3 来建造的</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(d2<span class="fl">.1</span>)[<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="st">&#39;Year_2019&#39;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>g<span class="ot">&lt;-</span> d2<span class="fl">.1</span> <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Indicator <span class="sc">==</span> <span class="st">&quot;Visitor arrivals&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Destination, Market, Year_2019) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Destination,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> Year_2019) </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">t</span>(<span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="fu">unlist</span>(g), <span class="at">nrow=</span><span class="fu">length</span>(g), <span class="at">byrow=</span><span class="cn">TRUE</span>))))</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(g1)<span class="ot">&lt;-</span> <span class="fu">names</span>(g)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span></code></pre></div>
<pre><code>## Warning: 程辑包&#39;GGally&#39;是用R版本4.1.2 来建造的</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;GGally&#39;:
##   method from   
##   +.gg   ggplot2</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggparcoord</span>(g1, <span class="at">columns =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">scale =</span> <span class="st">&quot;center&quot;</span>, <span class="at">alphaLines =</span> .<span class="dv">7</span>, <span class="at">splineFactor =</span> <span class="dv">10</span>, <span class="at">groupColumn =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a> <span class="co"># geom_vline(xintercept = 2:7, color = &quot;lightblue&quot;) +</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>), <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>))</span></code></pre></div>
<p><img src="06-interactive_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>interactive<span class="ot">&lt;-</span> g1 <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">parcoords</span>(  </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">rownames =</span> F     <span class="co">#   turn off rownames from the data.frame  </span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    , <span class="at">brushMode =</span> <span class="st">&quot;1D-axes&quot;</span>  </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">reorderable =</span> T  </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    , <span class="at">queue =</span> T  </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    , <span class="at">withD3 =</span> <span class="cn">TRUE</span>     </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>interactive</span></code></pre></div>
<div class="parcoords html-widget" height="480" id="htmlwidget-40802ded7f383f23b2a1" style="width:672px;height:480px; position:relative; overflow-x:auto; overflow-y:hidden; max-width:100%;" width="672"></div>
<script type="application/json" data-for="htmlwidget-40802ded7f383f23b2a1">{"x":{"data":{"names":["X1","X2","X3","X4","X5","X6","X7","X8","X9","X10","X11","X12","X13","X14","X15","X16","X17","X18","X19","X20","X21","X22","X23","X24","X25","X26","X27","X28","X29","X30","X31","X32","X33","X34","X35","X36","X37","X38","X39","X40","X41","X42","X43","X44","X45","X46","X47","X48","X49","X50"],"Market":["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","N. Carolina","N. Dakota","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","S. Carolina","S. Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","Washington, D.C.","W. Virginia","Wisconsin","Wyoming"],"Oahu":["15,942","45,924","97,894","9,840","1,163,895","78,552","15,853","3,812","87,144","48,902","26,071","77,118","26,671","15,116","15,779","14,283","13,290","5,513","41,913","41,673","41,523","48,025","6,676","30,921","10,440","38,943","4,532","11,315","67,113","6,899","48,860","15,481","93,602","44,467","18,023","97,532","45,917","4,761","17,534","4,943","26,954","179,093","82,476","2,691","68,481","241,910","7,820","4,158","29,066","4,620"],"Kauai":["3,741","9,880","38,590","2,867","400,469","43,832","5,643","1,190","25,198","12,543","14,556","28,520","10,015","6,307","5,860","4,178","3,771","1,809","9,901","14,513","17,056","19,682","1,402","11,596","7,158","11,631","1,667","4,197","17,214","2,346","16,248","6,890","29,376","16,079","5,773","46,059","15,813","1,315","4,916","1,814","8,237","54,479","38,723","1,213","15,041","98,042","2,365","1,046","12,580","2,436"],"Maui Island":["7,171","23,875","83,650","5,967","937,109","78,122","10,841","2,464","47,997","26,333","25,090","69,908","20,808","12,240","13,250","9,255","7,779","3,098","19,740","27,681","34,584","38,862","3,206","22,882","11,457","22,933","3,836","9,089","41,208","4,260","33,950","11,203","57,998","34,355","12,657","107,429","30,913","2,401","9,544","3,882","17,112","125,738","53,006","2,045","28,243","227,780","4,298","2,214","24,134","3,917"],"Molokai":["175","1,313","1,308","108","11,691","1,364","195","48","1,082","601","491","1,080","403","179","235","176","168","76","444","508","684","566","65","415","306","459","72","151","751","86","554","294","1,180","637","158","2,019","706","60","226","86","346","2,056","798","80","645","3,945","72","50","440","79"],"Lanai":["275","397","1,948","202","17,489","1,685","353","73","1,722","984","519","1,808","524","345","317","263","259","91","561","779","877","851","111","709","236","831","86","269","981","127","941","273","2,333","864","306","1,773","903","74","305","85","644","3,554","1,187","72","868","3,688","136","42","578","105"],"Hilo":["2,064","5,887","12,079","1,433","116,775","12,650","2,389","610","13,545","5,831","3,576","10,761","4,139","2,327","2,288","2,002","2,042","925","5,085","6,067","6,723","7,197","775","4,562","1,891","5,921","582","1,510","6,631","1,020","7,020","2,322","12,997","7,431","2,193","14,591","7,533","583","2,787","825","3,921","22,411","7,425","486","7,292","29,152","1,007","672","4,907","793"],"Kona":["4,153","20,806","33,312","3,114","379,490","37,598","5,697","1,361","27,992","13,708","12,336","26,429","8,872","5,817","5,466","4,258","4,174","1,730","11,024","13,545","16,069","19,199","1,720","10,328","6,662","12,470","1,557","3,940","18,919","2,256","15,930","5,604","28,968","16,142","5,321","51,612","16,050","1,127","5,585","1,806","8,587","53,314","22,030","1,052","16,271","108,255","2,266","1,281","11,597","2,471"]},"options":{"rownames":false,"brushMode":"1D-axes","brushPredicate":"AND","reorderable":true,"margin":{"top":50,"bottom":50,"left":100,"right":50},"mode":"queue","bundlingStrength":0.5,"smoothness":0},"autoresize":false,"tasks":null},"evals":[],"jsHooks":[]}</script>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yigechen17/HawaiiTravelingData/edit/main/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/yigechen17/HawaiiTravelingData/blob/main/%s",
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
